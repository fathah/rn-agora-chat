{"version":3,"names":["BaseManager","MTacceptInvitation","MTaddContact","MTaddUserToBlockList","MTdeclineInvitation","MTdeleteContact","MTfetchAllContacts","MTfetchContacts","MTgetAllContacts","MTgetAllContactsFromDB","MTgetAllContactsFromServer","MTgetBlockListFromDB","MTgetBlockListFromServer","MTgetContact","MTgetSelfIdsOnOtherPlatform","MTonContactChanged","MTremoveUserFromBlockList","MTsetContactRemark","ExceptionHandler","Native","chatlog","ChatContact","ChatCursorResult","ChatException","ChatContactManager","TAG","constructor","_contactListeners","Set","_contactSubscriptions","Map","setNativeListener","event","log","forEach","value","remove","clear","set","addListener","params","invokeContactListener","listener","_listener$onContactAd","_listener$onContactDe","_listener$onContactIn","_listener$onFriendReq","_listener$onFriendReq2","contactEventType","type","onContactAdded","call","username","onContactDeleted","onContactInvited","reason","onFriendRequestAccepted","onFriendRequestDeclined","getInstance","sendExcept","except","code","description","from","addContactListener","add","removeContactListener","delete","removeAllContactListener","addContact","userId","arguments","length","undefined","r","_callMethod","checkErrorFromResult","deleteContact","keepConversation","getAllContactsFromServer","ret","getAllContactsFromDB","addUserToBlockList","removeUserFromBlockList","getBlockListFromServer","getBlockListFromDB","acceptInvitation","declineInvitation","getSelfIdsOnOtherPlatform","getAllContacts","list","i","push","getContact","g","fetchAllContacts","fetchContacts","cursor","pageSize","opt","map","param","setContactRemark","contact","remark"],"sourceRoot":"../../src","sources":["ChatContactManager.ts"],"mappings":"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"}